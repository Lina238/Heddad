<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendar</title>
    <link rel="stylesheet" href="css/calendar.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css" />

    <script type="module" src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/9.6.10/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.3.0/firebase.js"></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
</head>

<body>
    <nav>
        <img class="img" src="images/LOGO.png" alt="">
    </nav>
    <div class="container">
        <div class="calendar">
            <div class="month">
                <i class="fas fa-angle-left prev"></i>
                <div class="date">
                    <h1></h1>
                    <p></p>
                </div>
                <i class="fas fa-angle-right next"></i>
            </div>
            <div class="weekdays">
                <div>Sun</div>
                <div>Mon</div>
                <div>Tue</div>
                <div>Wed</div>
                <div>Thu</div>
                <div>Fri</div>
                <div>Sat</div>
            </div>
            <div class="days"></div>
        </div>
        <div class="continue">
            <a id='post' target="blank" href="https://docs.google.com/forms/d/e/1FAIpQLScaPuNz7jTpWnlNmsCIey4vafOgUnleORYz8wEQQAuA0BGKTA/viewform?usp=sf_link&fbclid=IwAR2ZaBkiK4Ep4VQwJds8CD0p9HxwIf4T5Vj4jWxZSBkoKSysad4wP6U4XbE">Continiuer pour r√©server</a>
        </div>
    </div>

    <script type="module">
              // Import the functions you need from the SDKs you need
    
   import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
   import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-analytics.js";
   import {getFirestore,doc,setDoc,getDocs,collection} from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js';
   import{getDatabase,ref,set,child,update,remove,} from "https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js"
   import { getAuth ,GoogleAuthProvider, signInWithRedirect, getRedirectResult, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
   // For Firebase JS SDK v7.20.0 and later, measurementId is optional
   const firebaseConfig = {
     apiKey: "AIzaSyAUiRfbDOqgc1dGJ_Yd_o3hsNouDTkKmmA",
     authDomain: "haddad-4bc6b.firebaseapp.com",
     databaseURL: "https://haddad-4bc6b-default-rtdb.firebaseio.com",
     projectId: "haddad-4bc6b",
     storageBucket: "haddad-4bc6b.appspot.com",
     messagingSenderId: "716967312183",
     appId: "1:716967312183:web:51b06d1842a995967eb8b2",
     measurementId: "G-6JGHXPGSX3"
   };
   
  const app=initializeApp(firebaseConfig);  
  const db=getFirestore(app);
  const colRef=collection(db,'Dates')

 var tst=[];
  getDocs(colRef)
  .then((snapshot)=>{

snapshot.docs.forEach(doc=>{
   
    let inf=(doc.data().jour).seconds *1000;
    let currentday=new Date(inf)
    let month=currentday.getMonth();
    let day=currentday.getDate();
    tst.push({month:month,day:day})

});
console.log(tst)
renderCalendar(tst)
act(tst)
}, 
 ).catch(function(error) {
    // Firebase will use this to alert of its errors
    var error_code = error.code
    var error_message = error.message
  
    alert(error_message)
  });

    </script>
    <script src="js/calendar.js"></script>

</body>

</html>